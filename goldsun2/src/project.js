require=function t(e,n,o){function i(a,r){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!r&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({BaseComponent:[function(t,e,n){"use strict";cc._RF.push(e,"fc257obB6JII7OIZU5E5SVG","BaseComponent"),e.exports=cc.Class({extends:cc.Component,properties:{_uiName:null},onLoad:function(){this._uiName&&gslog(this._uiName+" onLoad"),this.addButtonListener()},onEnable:function(){this._uiName&&gslog(this._uiName+" onEnable")},onDisable:function(){this._uiName&&gslog(this._uiName+" onDisable")},addButtonListener:function(){this.travelButton(this.node)},travelButton:function(t){if(t&&t.getComponent(cc.Button)&&t.on("click",this.preButtonClick,this),t){var e=t.getChildren();for(var n in e){var o=e[n];this.travelButton(o)}}},preButtonClick:function(t){var e=t.detail.node;this.onButtonClick(e)},onButtonClick:function(t){gslog("default onButtonClick : "+t.name)}}),cc._RF.pop()},{}],BlockUI:[function(t,e,n){"use strict";cc._RF.push(e,"e8ab1UnHOZEarQJ3RBKK8U7","BlockUI");var o=t("BaseComponent");cc.Class({extends:o,properties:{_statusCode:0,_statusText:null,_row:null,_col:null},onLoad:function(){this._super(),this._statusText=cc.find("text",this.node)},getStatusCode:function(){return this._statusCode},setStatusCode:function(t){this._statusCode=t;var e="普通";switch(this._statusCode){case 0:this._statusText.color=cc.Color.BLACK,e="普通";break;case 1:this._statusText.color=cc.Color.BLUE,e="可打开";break;case 2:this._statusText.color=cc.Color.RED,e="已打开";break;default:this._statusText.color=cc.Color.BLACK,e="普通"}this._statusText.getComponent(cc.Label).string=e}}),cc._RF.pop()},{BaseComponent:"BaseComponent"}],ClientMsg:[function(t,e,n){"use strict";cc._RF.push(e,"d6e24CfNmVAl5uxL5mx4iDh","ClientMsg"),e.exports={listeners:[],events:[],on:function(t,e,n){if(t&&e&&n){for(var o=0;o<this.listeners.length;o++){var i=this.listeners[o];if(i.ac==t&&i.cb==e)return}var s={};s.ac=t,s.cb=e,s.sender=n,this.listeners.push(s)}else gslog("clientMsg on fail because of params error.")},off:function(t,e,n){if(t&&e&&n){for(var o=[],i=0;i<this.listeners.length;i++){var s=this.listeners[i];s.ac==t&&s.cb==e||o.push(s)}this.listeners=o}else gslog("clientMsg off fail because of params error.")},send:function(t,e,n){if(t&&e){for(var o=!1,i=0;i<this.listeners.length;i++){var s=this.listeners[i];if(s.ac==t){o=!0;var a={};if(a.ac=t,a.data=e,s.cb&&s.sender)try{s.cb.call(s.sender,a)}catch(n){gslog(n.message+" \nclientMsg send error : ac="+t+",data="+JSON.stringify(e))}}}if(void 0==n&&(n=!0),!o&&n){var r={};r.ac=t,r.data=e,this.events.push(r)}}else gslog("clientMsg send fail because of params error.")},update:function(){if(this.events&&!(this.events.length<=0)){var t=[];for(var e in this.events){var n=this.events[e],o=!1;for(var i in this.listeners){var s=this.listeners[i];if(s.ac==n.ac){var a={};if(a.ac=n.ac,a.data=n.data,s.cb&&s.sender)try{s.cb.call(s.sender,a)}catch(t){gslog("clientMsg update send error : ac="+n.ac+",data="+JSON.stringify(n.data))}o=!0}}o||t.push(n)}this.events=t}}},cc._RF.pop()},{}],HelloWorld:[function(t,e,n){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld");var o=t("LanguageData");cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){o.init("zh"),this.label.string=o.t("label.close")},update:function(t){}}),cc._RF.pop()},{LanguageData:"LanguageData"}],InitScene:[function(t,e,n){"use strict";cc._RF.push(e,"6da21dFlvdAp5AZAKTHqobn","InitScene");var o=t("LanguageData");window.localText=o,window.BaseComponent=t("BaseComponent"),window.msgac=t("MsgAc"),window.gs={},window.gs.clientMsg=t("ClientMsg"),window.gslog=function(t){cc.log(t)},cc.Class({extends:BaseComponent,properties:{},onLoad:function(){this._super(),this.initGame(),this.loadDatas()},loadDatas:function(){cc.director.preloadScene("MainScene")},initGame:function(){localText.init("zh"),setInterval(gs.clientMsg.update.bind(gs.clientMsg),100)},onButtonClick:function(t){switch(t.name){case"startGame":cc.director.loadScene("MainScene")}},update:function(t){}}),cc._RF.pop()},{BaseComponent:"BaseComponent",ClientMsg:"ClientMsg",LanguageData:"LanguageData",MsgAc:"MsgAc"}],LanguageData:[function(t,e,n){"use strict";function o(t){return window.i18n.languages[t]}function i(t){t&&(a?a.replace(t):a=new s({phrases:t,allowMissing:!0}))}cc._RF.push(e,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var s=t("polyglot.min"),a=null;window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(!t||t!==window.i18n.curLang){var e=null;t?(e=o(t),window.i18n.curLang=t):e=o(window.i18n.curLang),i(e)}},t:function(t,e){if(a)return a.t(t,e)},inst:a,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],n=0;n<t.length;++n){var o=t[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,o)}for(var i=0;i<e.length;++i)e[i].updateLabel();for(var s=[],a=0;a<t.length;++a){var r=t[a].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(s,r)}for(var c=0;c<s.length;++c)s[c].updateSprite(window.i18n.curLang)}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(t,e,n){"use strict";cc._RF.push(e,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var o=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){o.inst||o.init(),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?o.t(this.dataID)&&(this.label.string=o.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e,n){"use strict";cc._RF.push(e,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var o=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:o}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MainScene:[function(t,e,n){"use strict";cc._RF.push(e,"455abeaLvJFUb6VZs4sF32F","MainScene"),cc.Class({extends:BaseComponent,properties:{blockPrefab:cc.Prefab,_contentLayout:null,_blocksUI:[],_rowCount:8,_colCount:6},onLoad:function(){this._super(),this._uiName="MainScene",gs.clientMsg.on(msgac.block_click,this.process_ac,this),this.initUI()},onDestroy:function(){gs.clientMsg.off(msgac.block_click,this.process_ac,this)},initUI:function(){this._cotentLayout=cc.find("content",this.node);for(var t=0;t<this._rowCount;t++){for(var e=[],n=0;n<this._colCount;n++){var o=cc.instantiate(this.blockPrefab),i=o.width,s=o.height;o.position=cc.p(n*i,t*s),this._cotentLayout.addChild(o);var a=o.getComponent("BlockUI");a.setStatusCode(0),a._row=t,a._col=n,e.push(a)}this._blocksUI.push(e)}var r=Math.floor(Math.random()*this._rowCount),c=Math.floor(Math.random()*this._colCount);this._blocksUI[r][c].setStatusCode(1),this.addButtonListener()},onButtonClick:function(t){switch(t.name){case"block":var e=t.getComponent("BlockUI");if(1==e.getStatusCode()){e.setStatusCode(2);var n=e._row,o=e._col;n+1<this._rowCount&&0==this._blocksUI[n+1][o].getStatusCode()&&this._blocksUI[n+1][o].setStatusCode(1),n-1>=0&&0==this._blocksUI[n-1][o].getStatusCode()&&this._blocksUI[n-1][o].setStatusCode(1),o+1<this._colCount&&0==this._blocksUI[n][o+1].getStatusCode()&&this._blocksUI[n][o+1].setStatusCode(1),o-1>=0&&0==this._blocksUI[n][o-1].getStatusCode()&&this._blocksUI[n][o-1].setStatusCode(1)}else gslog("not : "+e.getStatusCode())}},process_ac:function(t){t.data;t.ac}}),cc._RF.pop()},{}],MsgAc:[function(t,e,n){"use strict";cc._RF.push(e,"356c77h4UhBBZo/TGlTMj5K","MsgAc"),e.exports={block_click:100},cc._RF.pop()},{}],SpriteFrameSet:[function(t,e,n){"use strict";cc._RF.push(e,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var o=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=o,cc._RF.pop()},{}],"polyglot.min":[function(t,e,n){"use strict";cc._RF.push(e,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,i){"function"==typeof define&&define.amd?define([],function(){return i(t)}):"object"==(void 0===n?"undefined":o(n))?e.exports=i(t):t.Polyglot=i(t)}(void 0,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||u}function n(t){var e,n,o,i={};for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(o in n)i[n[o]]=e}return i}function i(t){var e=/^\s+|\s+$/g;return t.replace(e,"")}function s(t,e,n){var o,s,a;return null!=n&&t?(s=t.split(p),a=s[r(e,n)]||s[0],o=i(a)):o=t,o}function a(t){var e=n(d);return e[t]||e.en}function r(t,e){return h[a(t)](e)}function c(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}function u(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function l(t){var e={};for(var n in t)e[n]=t[n];return e}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"==(void 0===n?"undefined":o(n))?this.extend(n,i):this.phrases[i]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,o;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),o=t),"string"==typeof n&&(e=l(e),o=s(n,this.currentLocale,e.smart_count),o=c(o,e)),o},e.prototype.has=function(t){return t in this.phrases};var p="||||",h={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},d={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e}),cc._RF.pop()},{}],zh:[function(t,e,n){"use strict";cc._RF.push(e,"d216fwMc3xBB5iOqeov/M6y","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={label:{close:"关闭",startGame:"开始游戏"}},cc._RF.pop()},{}]},{},["LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min","HelloWorld","ClientMsg","MsgAc","BaseComponent","BlockUI","InitScene","MainScene","zh"]);